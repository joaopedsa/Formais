(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,n){t.exports=n(28)},18:function(t,e,n){},22:function(t,e,n){},24:function(t,e,n){},26:function(t,e,n){},28:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(11),o=n.n(r),s=(n(18),n(6)),l=n(7),u=n.n(l),c=n(9),f=n(1),m=n(2),h=n(4),p=n(3),d=n(5),v=(n(22),n(8)),b=n.n(v),g=(n(24),function(t){function e(){var t,n;Object(f.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(i)))).writeSingleFile=function(){if(n.props.regular){var t=document.createElement("a"),e=new Blob([JSON.stringify(n.props.regular)],{type:"application/json"});t.href=URL.createObjectURL(e),t.download="automato.json",t.click()}},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"container-gr"},i.a.createElement("div",{className:"container-buttons-menu-af"},i.a.createElement("button",{onClick:this.props.main.transformGramaticaToAutomato},"Transformar para Automato Finito"),i.a.createElement("button",null,"Exportar"),i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"selecao-arquivo"},"Importar"),i.a.createElement("input",{id:"selecao-arquivo",type:"file"}))),i.a.createElement("div",{className:"container-gramatica"},i.a.createElement("div",null,this.props.regular.getTotalProduction().map(function(e,n){return i.a.createElement("div",{key:n},i.a.createElement("input",{className:"sentenca",value:e,onChange:t.props.main.handleChangeSentenca}))}))))}}]),e}(a.Component)),E=(n(26),function(t){function e(){var t,n;Object(f.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(i)))).writeSingleFile=function(){if(n.props.automato){var t=document.createElement("a"),e=new Blob([JSON.stringify(n.props.automato)],{type:"application/json"});t.href=URL.createObjectURL(e),t.download="automato.json",t.click()}},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"container-buttons-menu-af"},i.a.createElement("button",{onClick:this.props.main.handleDeterminize},"Determinize"),i.a.createElement("button",{onClick:this.props.main.handleCreateTable},"Criar Tabela de Transi\xe7\xe3o"),i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"selecao-arquivo"},"Importar"),i.a.createElement("input",{id:"selecao-arquivo",type:"file",onChange:this.props.main.readSingleFile})),i.a.createElement("button",{onClick:this.writeSingleFile},"Exportar"),i.a.createElement("button",{onClick:this.props.main.handleTransformAutomatoToRegular},"Tranformar para GR")),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"table"},i.a.createElement("div",{className:"headerTable"},i.a.createElement("div",{className:"cellTable"},"*"),this.props.automato.alphabet.map(function(e,n){return i.a.createElement("input",{className:"cellTable",key:n,value:e,onClick:t.props.main.handleChangeSymbol})})),i.a.createElement("div",{className:"bodyTable"},this.props.automato.states.map(function(e,n){return i.a.createElement("div",{className:"lineTable",key:n},i.a.createElement("div",{className:"cellTable",value:e,onClick:t.props.main.handleFinalState},-1!==t.props.automato.initial.indexOf(e)?"->":"",-1!==t.props.automato.finals.indexOf(e)?"*"+e:e),t.props.automato.alphabet.map(function(n,a){return i.a.createElement("input",{className:"cellTable",onChange:function(a){return t.props.main.handleChangeCell(a,n,e)},key:a,value:t.props.automato.getTransition(e,n)})}))})))))}}]),e}(a.Component)),O=function(t){function e(){return Object(f.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,"ER")}}]),e}(a.Component),y=function(){function t(e,n,a){Object(f.a)(this,t),this.from=e,this.to=n,this.symbol=a}return Object(m.a)(t,[{key:"getTransition",value:function(){return[this.from,this.to,this.symbol]}}]),t}(),T=function(){function t(e,n){Object(f.a)(this,t),this.from=e,this.to=n}return Object(m.a)(t,[{key:"getProduction",value:function(){return[this.from,this.to]}}]),t}(),w=function(){function t(e,n,a,i){Object(f.a)(this,t),this.nonTerminal=e,this.terminal=n,this.productions=a,this.initial=i}return Object(m.a)(t,[{key:"getTotalProduction",value:function(){var t=this,e=[];return this.nonTerminal.forEach(function(n,a){t.productions.filter(function(t){return t.from===n}).forEach(function(t){e[a]?e[a]=e[a]+"|"+t.to.replace(" ",""):e[a]=n+" -> "+t.to.replace(" ","")})}),e}},{key:"transformRegularToAutomato",value:function(){var t=this,e={states:[],alphabet:[],transitions:[],initial:"",finals:[]};return this.nonTerminal.forEach(function(t,n){0===e.states.length?(e.initial="q"+n,e.states.push("q"+n)):e.states.push("q"+n)}),e.states.push("q"+e.states.length),e.finals.push("q"+(e.states.length-1)),e.alphabet=this.terminal,this.nonTerminal.forEach(function(n,a){t.productions.filter(function(t){return t.from===n}).forEach(function(n){var i=n.to.split(" "),r=i[0],o=i[1];o&&t.nonTerminal.forEach(function(t,e){o===t&&(o="q"+e)}),e.transitions.push(new y("q"+a,o||"",r)),e.states.forEach(function(t){for(var n=e.transitions.filter(function(e){return e.from===t}),a=0;a<n.length-1;++a)for(var i=function(t){n[a].symbol===n[t].symbol&&(n[a].to&&(n[a].to=n[a].to+","+e.finals[0]),e.transitions=e.transitions.filter(function(e){return!(n[t].symbol===e.symbol&&e.from===n[t].from&&!e.to)}))},r=a+1;r<n.length;++r)i(r)})})}),e.finals=e.finals.filter(function(t){return t}),e.states.forEach(function(t){e.alphabet.forEach(function(n){for(var a=!1,i=0;i<e.transitions.length;++i)e.transitions[i].from===t&&e.transitions[i].symbol===n&&(a=!0);a||e.transitions.push(new y(t,"",n))})}),e.transitions=e.transitions.filter(function(t){return t.symbol}),e}}]),t}(),j=function(){function t(e,n,a,i,r){Object(f.a)(this,t),this.states=e,this.alphabet=n,this.transitions=a,this.initial=i,this.finals=r}return Object(m.a)(t,[{key:"transformToGramatica",value:function(){var t=this,e=new w(["S"],this.alphabet,[],"S");if(!this.isDeterministic()){var n=this.determinize();this.states=n.states,this.transitions=n.transitions,this.finals=n.finals}return this.states.filter(function(e){return e!==t.initial}).forEach(function(t,n){e.nonTerminal.push(String.fromCharCode("a".charCodeAt(0)+n).toUpperCase())}),this.transitions.forEach(function(n){n.to&&(-1!==t.finals.indexOf(n.to)?(e.productions.push(new T(e.nonTerminal[t.states.indexOf(n.from)],n.symbol+" "+e.nonTerminal[t.states.indexOf(n.to)])),e.productions.push(new T(e.nonTerminal[t.states.indexOf(n.from)],n.symbol))):e.productions.push(new T(e.nonTerminal[t.states.indexOf(n.from)],n.symbol+" "+e.nonTerminal[t.states.indexOf(n.to)])))}),e.nonTerminal.forEach(function(t){var n=!1;e.productions.forEach(function(e){e.from===t&&(n=!0)}),n||e.productions.push(new T(t,""))}),console.log(e.productions),e}},{key:"determinize",value:function(){var e=this,n=this.fechoTransitivo();if(!this.isDeterministic()){var a=function(){var a,i=e.alphabet.indexOf("&");if(-1!==i){var r=e.alphabet;r.splice(i,1),a=new t([n[0]],r,[],n[0],[])}else a=new t(e.states,e.alphabet,[],e.initial,e.finals);for(var o=function(t){var i=a.states[t],r=i.split(","),o=[];o=e.transitions.filter(function(t){return r.indexOf(t.from)>-1&&"&"!==t.symbol}),a.alphabet.forEach(function(t){var r=o.filter(function(e){return e.symbol===t}),l="";r.forEach(function(t){l=l?l+","+t.to:t.to}),l=e.findToFecho(n,l),a.transitions=[].concat(Object(s.a)(a.transitions),[new y(i,l,t)]),!a.states.includes(l)&&l&&a.states.push(l)})},l=0;l<a.states.length;l++)o(l);return a.states.forEach(function(t){a.finals.forEach(function(e){t.includes(e)&&-1===a.finals.indexOf(t)&&a.finals.push(t)})}),{v:a}}();if("object"===typeof a)return a.v}return this}},{key:"findState",value:function(){var t=[];this.transitions.forEach(function(e){e.to.includes(",")&&t.push(e.to)})}},{key:"findToFecho",value:function(t,e){var n="",a=e.split(",");return(a=this.organizaOrdemStates(a)).forEach(function(e){var a=parseInt(e.replace("q",""));n=n?n+","+t[a]:t[a]}),n=n.split(","),n=(n=this.organizaOrdemStates(n)).join(",")}},{key:"isDeterministic",value:function(){if(this.alphabet.indexOf("&")>-1)return!1;for(var t=0;t<this.transitions.length;++t)if(-1===this.states.indexOf(this.transitions[t].to)&&""!==this.transitions[t].to)return!1;return!0}},{key:"fechoTransitivo",value:function(){var t=[];-1===this.alphabet.indexOf("&")?this.transitions.forEach(function(e){-1===t.indexOf(e.from)&&(t=[].concat(Object(s.a)(t),[e.from]))}):this.transitions.filter(function(t){return"&"===t.symbol}).forEach(function(e,n){if(e.to.includes(e.from))t=[].concat(Object(s.a)(t),[e.to]);else{var a=e.to.split(",");a.splice(n,0,e.from),t=[].concat(Object(s.a)(t),[a.join(",")])}});return t=this.organizaOrdemFecho(t)}},{key:"organizaOrdemFecho",value:function(t){var e=this;return t=t.map(function(t){for(var n="",a=t.split(","),i=0;i<e.states.length;i++)-1!==a.indexOf("q"+i)&&(n=n?n+","+a[a.indexOf("q"+i)]:a[a.indexOf("q"+i)]);return n})}},{key:"organizaOrdemStates",value:function(t){var e=[];return this.states.forEach(function(n,a){-1!==t.indexOf("q"+a)&&e.push(t[t.indexOf("q"+a)])}),e}},{key:"getTransition",value:function(t,e){return this.transitions.filter(function(n){return n.from===t&&n.symbol==e})[0].to}},{key:"setTransition",value:function(e,n,a){var i,r=new t(this.states,this.alphabet,[],this.initial,this.finals);return i=this.transitions.map(function(t){return t.from!==e||t.symbol!=n?t:(t.to=a,t)}),r.transitions=i,r}},{key:"setFinalState",value:function(e){var n=new t(this.states,this.alphabet,this.transitions,this.initial,[]);return-1===this.finals.indexOf(e)?this.finals.push(e):this.finals=this.finals.filter(function(t){return t!==e}),n.finals=this.finals,n}},{key:"setSymbol",value:function(e,n){var a,i;return a=this.transitions.map(function(t){return t.symbol==e?new y(t.from,t.to,n):t}),i=this.alphabet.map(function(t){return t==e?n:t}),new t(this.states,i,a,this.initial,this.finals)}}]),t}(),S=function(){function t(){Object(f.a)(this,t)}return Object(m.a)(t,[{key:"contructor",value:function(t){this.expression=t}}]),t}(),k=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).handleTransformAutomatoToRegular=function(){n.setState({regular:n.state.automato.transformToGramatica(),af:!1,gr:!0})},n.handlePlostTwist=function(){b.a.fire({title:"Em Desenvolvimento",width:600,padding:"3em",background:" rgba(0,0,123,0.05)",backdrop:'\n            rgba(0,0,123,0.4)\n            url("https://thumbs.gfycat.com/ScaryMassiveGallowaycow-max-1mb.gif")\n            center left\n            no-repeat\n          '})},n.handleChangeState=function(t){1===parseInt(t.target.value)&&n.setState({af:!0,gr:!1,ef:!1}),2===parseInt(t.target.value)&&n.setState({af:!1,gr:!0,ef:!1}),3===parseInt(t.target.value)&&n.setState({af:!1,gr:!1,ef:!0})},n.handleDeterminize=function(){n.setState({automato:n.state.automato.determinize()})},n.filterTransitions=function(t,e){return n.state.automato.transitions.filter(function(n){return n.state===t&&n.symbol===e})},n.handleCreateTable=Object(c.a)(u.a.mark(function t(){var e,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.fire({title:"Insira os Estados e Entradas",html:'\n        <div style="display: flex;flex-direction: row; justify-content: space-around">\n            <input id="swal-input1" max="20" min="1" type="number" placeholder="Estados" class="swal2-input"> \n            <input id="swal-input2" max="20" min="1" type="number" placeholder="Entradas" class="swal2-input">\n        <div>\n        ',focusConfirm:!1,preConfirm:function(){return[document.getElementById("swal-input1").value,document.getElementById("swal-input2").value]},inputValidator:function(t){if(!t)return"Insira valores corretor!"}});case 2:e=t.sent,(a=e.value)&&n.createTable(a[0],a[1]);case 5:case"end":return t.stop()}},t,this)})),n.createTable=function(t,e){for(var a=[],i=[],r=[],o=0;o<t;++o)for(var l=0;l<e;++l)a=[].concat(Object(s.a)(a),[new y("q"+o,"",l.toString())]),-1===i.indexOf(l.toString())&&i.push(l.toString()),-1===r.indexOf("q"+o)&&r.push("q"+o);var u=new j(r,i,a,r[0],[]);n.setState({automato:u})},n.handleChangeCell=function(t,e,a){n.setState({automato:n.state.automato.setTransition(a,e,t.target.value)})},n.handleFinalState=function(t){n.setState({automato:n.state.automato.setFinalState(t.target.getAttribute("value"))})},n.readSingleFile=function(t){var e={},a=t.target.files[0];if(a){var i=new FileReader;i.onload=function(t){var a=JSON.parse(t.target.result);e=new j(a.states,a.alphabet,a.transitions,a.initial,a.finals),n.setState({automato:e})},i.readAsText(a)}},n.handleChangeSymbol=function(){var t=Object(c.a)(u.a.mark(function t(e){var a,i,r,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,b.a.fire({title:"insira a nova Entrada",input:"text",showCancelButton:!0,inputValidator:function(t){if(!t||-1!==n.state.automato.alphabet.indexOf(t))return"Insira um valor para entrada ou valor que seja diferente"}});case 3:i=t.sent,(r=i.value)&&(o=n.state.automato.setSymbol(a,r),n.setState({automato:o}));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.transformGramaticaToAutomato=function(){var t=n.state.regular.transformRegularToAutomato(),e=new j(t.states,t.alphabet,t.transitions,t.initial,t.finals);n.setState({automato:e,af:!0,gr:!1})},n.state={af:!0,gr:!1,er:!1,automato:new j([],[],[],"",[]),regular:new w([],[],[],"S"),expression:new S},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t="";return this.state.af&&(t=i.a.createElement(E,{main:this,automato:this.state.automato})),this.state.gr&&(t=i.a.createElement(g,{main:this,regular:this.state.regular})),this.state.er&&(t=i.a.createElement(O,{main:this,expressao:this.state.expression})),i.a.createElement("div",null,i.a.createElement("div",{className:"container-buttons-menu"},i.a.createElement("button",{onClick:this.handleChangeState,value:1},"AUTOMATO FINITO"),i.a.createElement("button",{onClick:this.handleChangeState,value:2},"GRAMATICA REGULAR"),i.a.createElement("button",{onClick:this.handleChangeState,value:3},"EXPRESSAO REGULAR")),t,i.a.createElement("div",{className:"container-desenvolvimento"},i.a.createElement("button",{className:"emDesenvolvimento",onClick:this.handlePlostTwist},"N\xe3o Clicar")))}}]),e}(a.Component);o.a.render(i.a.createElement(k,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.57bb63a3.chunk.js.map